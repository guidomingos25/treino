<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Consulta de Cargas (Simula√ß√£o)</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f9fafb;
      margin: 20px;
    }
    h1 {
      text-align: center;
    }
    table {
      border-collapse: collapse;
      width: 100%;
      margin-top: 15px;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 8px;
      text-align: left;
    }
    th {
      background-color: #f0f0f0;
    }
    tr:hover {
      background-color: #f5f5f5;
    }
    .atualizacao {
      text-align: right;
      font-size: 14px;
      color: #555;
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <h1>Expedi√ß√£o de Cargas</h1>

  <div class="atualizacao" id="atualizacao"></div>

  <table id="tabela">
    <thead>
      <tr id="cabecalho"></tr>
    </thead>
    <tbody id="corpo"></tbody>
  </table>

  <script>
    // üîπ Simula√ß√£o dos dados que viriam da query SQL
    const dadosSimulados = [
      {
        "FILIAL": "SP01",
        "DATA DE SOLICITACAO": "10/10/2025 08:15:00",
        "DESTINO": "Campinas",
        "VEICULO": "Truck",
        "PESO TOTAL": "12.340",
        "ULTIMA_ATUALIZACAO": new Date().toLocaleString("pt-BR")
      },
      {
        "FILIAL": "SP02",
        "DATA DE SOLICITACAO": "15/10/2025 09:40:00",
        "DESTINO": "Ribeir√£o Preto",
        "VEICULO": "Carreta",
        "PESO TOTAL": "25.780",
        "ULTIMA_ATUALIZACAO": new Date().toLocaleString("pt-BR")
      },
      {
        "FILIAL": "RJ01",
        "DATA DE SOLICITACAO": "17/10/2025 07:55:00",
        "DESTINO": "Volta Redonda",
        "VEICULO": "Utilit√°rio",
        "PESO TOTAL": "3.400",
        "ULTIMA_ATUALIZACAO": new Date().toLocaleString("pt-BR")
      }
    ];

    // üîπ Fun√ß√£o para montar a tabela
    function montarTabela(dados) {
      const cabecalho = document.getElementById("cabecalho");
      const corpo = document.getElementById("corpo");
      const atualizacao = document.getElementById("atualizacao");

      // limpa tabela
      cabecalho.innerHTML = "";
      corpo.innerHTML = "";

      if (dados.length === 0) {
        corpo.innerHTML = "<tr><td colspan='100%'>Nenhum registro encontrado</td></tr>";
        return;
      }

      // cria cabe√ßalho com base nas chaves do primeiro registro
      Object.keys(dados[0]).forEach(campo => {
        const th = document.createElement("th");
        th.textContent = campo;
        cabecalho.appendChild(th);
      });

      // cria linhas da tabela
      dados.forEach(linha => {
        const tr = document.createElement("tr");
        Object.values(linha).forEach(valor => {
          const td = document.createElement("td");
          td.textContent = valor;
          tr.appendChild(td);
        });
        corpo.appendChild(tr);
      });

      // atualiza data de atualiza√ß√£o
      atualizacao.textContent = `√öltima atualiza√ß√£o: ${new Date().toLocaleString("pt-BR")}`;
    }

    // üîπ Simula o carregamento do JSON (como se viesse de um servidor)
    document.addEventListener("DOMContentLoaded", () => {
      // simulando delay (como se estivesse buscando na API)
      setTimeout(() => montarTabela(dadosSimulados), 500);
    });
  </script>
</body>
</html>
